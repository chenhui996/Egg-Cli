<!-- # import-local

分析库 -> import-local
库位置 -> 脚手架入口文件位置

## 作用

- 当项目当中：
  - **本地**存在一个**脚手架命令**。
  - 同时，**全局在 node 当中**也存在一个**同名的脚手架命令**时：
    - import-local 会帮我们优先选用 node_modules 中的版本。

---

## 事例

- 以 lerna 源码入口文件为例：

```js
const importLocal = require('import-local')

if (importLocal(__filename)) {
  require('npmlog').info('cli', 'using local version of lerna')
} else {
  require('.')(process.argv.slice(2))
}
```

- `__filename` 即为 `which lerna` 命令所执行的地址。
- 当 `importLocal(__filename)` 返回 `true`：
  - 则说明 `__filename` 路径存在，没问题。
    - 于是则 `into` 执行：

```js
if (importLocal(__filename)) {
  require('npmlog').info('cli', 'using local version of lerna')
}
```

- 可以看到，当 `importLocal(__filename)` 返回 `true`时：
  - 会优先使用我们本地 `node_modules` 下，通过远程安装的 `lerna` 版本。
- 反之，则使用 `lerna` 本地源码下的 `lerna` 包。

--- -->

- error!!!